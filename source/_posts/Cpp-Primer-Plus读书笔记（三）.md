title: Cpp-Primer-Plus读书笔记（三）
date: 2017-08-02 22:25:37
tags: [c++, Cpp Primer Plus, 读书笔记]
---
# 对象和类
面向对象编程是一种特殊的、设计程序的概念性方法，C++通过一些特性改进了C语言，下边是最重要的OOP特性：
* 抽象
* 封装和数据隐藏
* 多态
* 继承
* 代码的可重用性

采用OOP方法时，首先从用户的角度考虑对象，描述对象所需的数据以及描述用户与数据交互所需的操作。完成对接口的描述后，需要确定如何实现接口和数据存储。

<!-- more -->

## 抽象和类
对于基本类型，编译器需要维护如下内容：
* 决定数据对象需要的内存数量
* 决定如何解释内存中的位
* 决定可使用数据对象执行的操作或方法

对于C++中自定义的类，我们需要自己提供这些信息。

类中可以声明public和private及protected的成员。类设计尽可能的将公有接口与实现细节分开。公有接口表示设计的抽象组件，将实现细节放在一起并将它们与抽象分开被称为封装。数据隐藏(将数据放在类的私有部分中)是一种封装，将实现的细节隐藏在私有部分中，也是封装，封装的另一个例子是将类定义和类声明放在不同的文件中。

数据隐藏可以防止直接访问数据，还让开发者无需了解数据是如何被表示的。这样，只要接口不变，我们就可以对程序的细节进行修改。

数据项一般来说是私有对象，接口成员一般放在公共部分。对于实现的细节相关的函数，我们可以作为私有成员函数。对于类来说，成员默认是私有的。一般我们显式的指出private。

C++对于C的结构进行了扩充，与类的功能类似，唯一的区别是结构的默认访问方式是公有的。

对于类成员函数的定义，与普通函数有两点不同：
* 定义成员函数时，使用作用域解析运算符来标识函数所属的类
* 类方法可以访问类的private组件

对于类中的函数或成员，我们说这些标识符具有类作用域。

定义位于类声明中的函数都将自动成为内联函数。除此之外还可以在类函数声明中使用inline。

内联函数的特殊规则要求在每个使用它们的文件中都对其进行定义。确保内联定义对多文件程序中的所有文件都可用。最简便的方法是：将内联定义放在定义类的头文件中。顺便说一句，根据改写规则，在类声明中定义方法，等同于用原型替换方法定义，然后在类声明的后边将定义改写为内联函数。

调用成员函数时，它将使用被用来调用它的对象的数据成员。

所创建的每个新对象都有自己的存储空间，用于存储其他内部变量和类成员。但同一个类的所有对象共享同一组类方法，即每种方法只有一个副本。

指定类设计的第一步是提供类声明。类声明类似结构声明，可以包含数据成员和函数成员。声明有私有部分，在其中声明的成员只能通过成员函数进行访问；声明还具有公有部分，在其中声明的成员可被使用类对象的程序直接访问，通常数据成员函数被放在私有部分中。

第二步是实现类成员函数。

## 类的构造函数和析构函数
构造函数没有声明类型